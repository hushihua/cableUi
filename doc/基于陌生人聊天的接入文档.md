
# 基于陌生人聊天的接入文档

## 一：常用 api 接口

```
/**
 * 获取会话列表接口方法
 */
CUSessionManager.getInstance().loadSessionList { (response:PHResponse<[CUSession]>) in
    if response.isSuccess == true, let sessionList:[CUSession] = response.data{
        
    }
}
```

```
/**
 * 删除单条会话接口方法
 * @param chatId: 会话id
 */
CUSessionManager.getInstance().deleteSession(chatId: "chatId") { (response:PHResponse<Bool>) in
    
}
```

```
//
//
/**
 * 设置某个会话消息免打扰
 * @param muteStatus: 1 是; 0:否;
 */
CUSessionManager.getInstance().muteSession(chatId: "chatId", muteStatus: 1) { (response:PHResponse<Bool>) in
    
}
```

```
/**
 * 通过会话id，获取会话详情
 * @param chatId: 会话id
 */
CUSessionManager.getInstance().loadSessionInfo(chatId: "chatId") { (response:PHResponse<CUSession>) in
    
}
```

```
/**
 * 退出登录接口
 */
IMApi.getInstance().logout { (response:PHResponse<Bool>) in
    
}
```


##  二：常用UI api

```
//持有chatId，打开聊天页面
let controller:CUIIMViewController = CUIIMViewController.CreaetViewController()
controller.chatId = chatId
self.navigationController?.pushViewController(controller, animated: true)

//持有会话信息，打开聊天页面
let controller:CUIIMViewController = CUIIMViewController.CreaetViewController()
controller.sessionInfo = chatInfo
self.navigationController?.pushViewController(controller, animated: true)
```
